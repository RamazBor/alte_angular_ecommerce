import{a as M,c,d as _,e as w,f as P,g as h,i as O,k as F,l as k,o as S,p as N,q as $}from"./chunk-BB2YGCAB.js";import{Ea as b,F as u,K as y,Z as l,e as T,fa as D,fb as j,ha as m,hb as V,i as G,ib as q,ka as g,mb as x,nb as R,oa as r,pa as f,q as A,qa as a,sa as v,ta as C,x as E,xa as p}from"./chunk-CF2WTLNO.js";function W(e,t){if(e&1&&a(0,"alte-toast",2),e&2){let d=C();m("message",d.errorMessage)}}function J(e,t){if(e&1&&a(0,"alte-toast",3),e&2){let d=C();m("message",d.successMessage)}}var I=(()=>{let t=class t{constructor(){this.form=new P({email:new h("",[c.required,c.email]),password:new h("",c.required)}),this.errorMessage=null,this.successMessage=null,this.authFacade=u(R),this.router=u(V)}submit(){if(console.log(this.form),this.form.markAllAsTouched(),this.form.invalid)return;let{email:i,password:o}=this.form.value;i.trim(),o.trim();let n={email:i,password:o};this.authFacade.login(n).pipe(A(({error:s})=>(this.errorMessage=s.error.message,G(()=>s.error.message)))).subscribe(s=>{console.log(s),s&&(this.successMessage="Login successfull",setTimeout(()=>{this.router.navigate(["/"])},2e3))})}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["alte-login"]],standalone:!0,features:[b],decls:17,vars:3,consts:[["title","Sign In"],[1,"auth-container"],["type","error",3,"message"],["type","success",3,"message"],[3,"formGroup"],["label","Email","placeholder","Enter your email","formControlName","email","type","email","autocomplete","on"],["label","Password","placeholder","Enter your password","formControlName","password","type","password","autocomplete","on"],[1,"recovery"],["routerLink","/auth/recovery"],[1,"auth-actions"],["alte-button","","block","",3,"click"],[1,"more-actions"],["routerLink","/auth/register"]],template:function(o,n){o&1&&(a(0,"alte-auth-head",0),r(1,"div",1),D(2,W,1,1,"alte-toast",2)(3,J,1,1,"alte-toast",3),r(4,"form",4),a(5,"alte-input",5)(6,"alte-input",6),r(7,"div",7)(8,"a",8),p(9,"Forgot your password?"),f()(),r(10,"div",9)(11,"button",10),v("click",function(){return n.submit()}),p(12,"Sign In"),f()()(),r(13,"div",11),p(14," Don't have an account? "),r(15,"a",12),p(16,"Sign up"),f()()()),o&2&&(l(2),g(2,n.errorMessage?2:-1),l(),g(3,n.successMessage?3:-1),l(),m("formGroup",n.form))},dependencies:[x,M,N,S,O,_,w,F,k,q,$],styles:[".auth-container[_ngcontent-%COMP%]{width:300px;min-height:300px;margin:128px auto}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:24px;font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b500)}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:8px;text-decoration:underline;cursor:pointer}.auth-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b600);margin-bottom:24px}",".recovery[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.recovery[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-family:var(--font-family);font-weight:500;font-size:12px;line-height:200%;text-transform:capitalize;color:var(--neutral-black-b600);text-decoration:none}"]});let e=t;return e})();function Y(e,t){if(e&1&&a(0,"alte-toast",2),e&2){let d=C();m("message",d.errorMessage)}}function K(e,t){if(e&1&&a(0,"alte-toast",3),e&2){let d=C();m("message",d.successMessage)}}var U=(()=>{let t=class t{constructor(){this.form=new P({email:new h("",[c.required,c.email]),password:new h("",c.required)}),this.authFacade=u(R),this.router=u(V),this.errorMessage=null,this.successMessage=null,this.sub$=new T}submit(){if(console.log(this.form.value),this.form.markAllAsTouched(),this.form.invalid)return;this.errorMessage=null,this.successMessage=null;let{email:i,password:o}=this.form.value;i.trim(),o.trim();let n={email:i,password:o};this.authFacade.register(n).pipe(E(this.sub$),A(({error:s})=>(this.errorMessage=s.error.message,G(()=>s.error.message)))).subscribe(s=>{s&&(this.successMessage="You are registered successfully! Redirecting to main page...",setTimeout(()=>{this.router.navigate(["/"])},2e3))})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["alte-register"]],standalone:!0,features:[b],decls:10,vars:3,consts:[["title","Sign Up"],[1,"auth-container"],["type","error",3,"message"],["type","success",3,"message"],[3,"formGroup"],["label","Email","placeholder","Enter your email","formControlName","email","type","email"],["label","Password","placeholder","Enter your password","formControlName","password","type","password"],[1,"auth-actions"],["alte-button","","block","",3,"click"]],template:function(o,n){o&1&&(a(0,"alte-auth-head",0),r(1,"div",1),D(2,Y,1,1,"alte-toast",2)(3,K,1,1,"alte-toast",3),r(4,"form",4),a(5,"alte-input",5)(6,"alte-input",6),r(7,"div",7)(8,"button",8),v("click",function(){return n.submit()}),p(9,"Sign Up"),f()()()()),o&2&&(l(2),g(2,n.errorMessage?2:-1),l(),g(3,n.successMessage?3:-1),l(),m("formGroup",n.form))},dependencies:[M,N,S,O,_,w,F,k,x,$],styles:[".auth-container[_ngcontent-%COMP%]{width:300px;min-height:300px;margin:128px auto}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:24px;font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b500)}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:8px;text-decoration:underline;cursor:pointer}.auth-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b600);margin-bottom:24px}"]});let e=t;return e})();var B=(()=>{let t=class t{constructor(){this.form=new P({email:new h("",[c.required,c.email])}),this.authFacade=u(R),this.route=u(j),this.sub$=new T,this.oobCode=null}ngOnInit(){this.route.queryParams.pipe(E(this.sub$)).subscribe(i=>{i.oobCode&&(console.log("oobCode",i.oobCode),this.oobCode=i.oobCode)})}sendLink(){this.form.markAllAsTouched(),!this.form.invalid&&this.authFacade.sendOobCode(this.form.value.email).subscribe(i=>{console.log("Email sent",i)})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["alte-recovery"]],standalone:!0,features:[b],decls:9,vars:1,consts:[["title","Password Recovery"],[1,"auth-container"],[1,"description"],[3,"formGroup"],["label","Email","placeholder","Enter your email","formControlName","email","type","email","autocomplete","on"],[1,"auth-actions"],["alte-button","","block","",3,"click"]],template:function(o,n){o&1&&(a(0,"alte-auth-head",0),r(1,"div",1)(2,"div",2),p(3," Please enter the email address associated with your account. We'll promptly send you a link to reset your password. "),f(),r(4,"form",3),a(5,"alte-input",4),r(6,"div",5)(7,"button",6),v("click",function(){return n.sendLink()}),p(8,"Send reset link"),f()()()()),o&2&&(l(4),m("formGroup",n.form))},dependencies:[M,N,S,O,_,w,F,k,x],styles:[".auth-container[_ngcontent-%COMP%]{width:300px;min-height:300px;margin:128px auto}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:24px;font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b500)}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:8px;text-decoration:underline;cursor:pointer}.auth-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b600);margin-bottom:24px}"]});let e=t;return e})();function Q(e,t){if(e&1&&a(0,"alte-toast",2),e&2){let d=C();m("message",d.errorMessage)}}function X(e,t){if(e&1&&a(0,"alte-toast",3),e&2){let d=C();m("message",d.successMessage)}}var H=(()=>{let t=class t{constructor(){this.form=new P({oobCode:new h("",[c.required]),newPassword:new h("",[c.required])}),this.authFacade=u(R),this.route=u(j),this.router=u(V),this.sub$=new T,this.errorMessage=null,this.successMessage=null}ngOnInit(){this.route.queryParams.pipe(E(this.sub$)).subscribe(i=>{i.oobCode&&this.form.patchValue({oobCode:i.oobCode})})}resetPassword(){if(this.form.markAllAsTouched(),this.form.invalid)return;let{oobCode:i,newPassword:o}=this.form.value;this.authFacade.resetPassword(i,o).pipe(E(this.sub$),A(({error:n})=>(this.errorMessage=n.error.message,G(()=>n.error.message)))).subscribe(n=>{this.successMessage="Password reset successfully. Redirecting to login page.",setTimeout(()=>{this.router.navigate(["/auth"])},2e3)})}ngOnDestroy(){this.sub$.next(null),this.sub$.complete()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=y({type:t,selectors:[["alte-recovery-verify"]],standalone:!0,features:[b],decls:11,vars:3,consts:[["title","Reset Password"],[1,"auth-container"],["type","error",3,"message"],["type","success",3,"message"],[1,"auth-description"],[3,"formGroup"],["label","Password","placeholder","Enter your password","formControlName","newPassword","type","password"],[1,"auth-actions"],["alte-button","","block","",3,"click"]],template:function(o,n){o&1&&(a(0,"alte-auth-head",0),r(1,"div",1),D(2,Q,1,1,"alte-toast",2)(3,X,1,1,"alte-toast",3),r(4,"div",4),p(5," Please enter the email address associated with your account. We'll promptly send you a link to reset your password. "),f(),r(6,"form",5),a(7,"alte-input",6),r(8,"div",7)(9,"button",8),v("click",function(){return n.resetPassword()}),p(10," Reset password "),f()()()()),o&2&&(l(2),g(2,n.errorMessage?2:-1),l(),g(3,n.successMessage?3:-1),l(3),m("formGroup",n.form))},dependencies:[$,M,S,O,_,w,F,k,N,x],styles:[".auth-container[_ngcontent-%COMP%]{width:300px;min-height:300px;margin:128px auto}.auth-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:15px}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;margin-top:24px;font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b500)}.auth-container[_ngcontent-%COMP%]   .more-actions[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:8px;text-decoration:underline;cursor:pointer}.auth-container[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{font-family:var(--font-family);font-weight:400;font-size:14px;line-height:175%;color:var(--neutral-black-b600);margin-bottom:24px}"]});let e=t;return e})();var He=[{path:"",component:I},{path:"register",component:U},{path:"recovery",component:B},{path:"recovery-verify",component:H}];export{He as a};
